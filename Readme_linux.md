## Requirements

    - git 
    - cmake
    - CLION

## For configuring the project

    1. Open VCELL Solvers complete project inside CLION.
    2. Open CLION go to `File > settings > Build, Execution, Deployement > Toolchains > +`  
        Let it detect everything automatically `CMake`, `Make`, `C Complier`, `C++ Compiler` and `Debugger`
    3. Configure CMake `File > settings > Build, Execution, Deployement > CMake > +`
        - Build type as `Default`
        - Give `CMake options`
            For all solvers

            ```
            -DCMAKE_PREFIX_PATH="/usr/lib/x86_64-linux-gnu/"
            -DOPTION_TARGET_MESSAGING=OFF
            -DOPTION_TARGET_PARALLEL=OFF
            -DOPTION_TARGET_CHOMBO2D_SOLVER=OFF
            -DOPTION_TARGET_CHOMBO3D_SOLVER=OFF
            -DOPTION_TARGET_SMOLDYN_SOLVER=ON
            -DOPTION_TARGET_FV_SOLVER=ON
            -DOPTION_TARGET_STOCHASTIC_SOLVER=ON
            -DOPTION_TARGET_NFSIM_SOLVER=ON
            -DOPTION_TARGET_MOVINGBOUNDARY_SOLVER=OFF
            -DOPTION_TARGET_SUNDIALS_SOLVER=ON
            -DOPTION_TARGET_HY3S_SOLVERS=OFF
            ```
        - Generation path `build/bin`
        - Apply all these changes, that builds every solver in `bin` directory. The `Run/Debug Configurations` should be populated automatically for all solvers.

### Debugging Solvers

NOTE: All solvers are command line apps, which are invoked by VCELL_Rel/VCELL_Alpha internally.

1. Debugging and setting up environment variables through CLION

#### For FiniteVolume_X64

1. We need `.fvinput` and `_link` files to run FinitVolumne_X64 solver as Command Line app. These can be generated by running VCELL_Rel or VCELL_Alpha once (we don't need to wait for the simulation to finish, just cancel it after it says "Running Simulation").
2. On CLION, open `Run/Debug Configurations` and select `Edit Configurations`. From the list of configurations select `CMAKE Application > FiniteVolume_X64`
3. Go to `Program arguments` and enter `<VCELL home>/simdata/temp/SimID_<simulation_ID>_0.fvinput`
    Example: `/home/akhil/.vcell/simdata/temp/SimID_1812661980_0_.fvinput`
4. Go to `Working directory` and enter `<VCELL home>/simdata`
5. Set up `Environment variables` as `LD_LIBRARY_PATH=<VCELL home>/simdata/temp/<simulation_ID>_link`
    Example: `LD_LIBRARY_PATH=/home/akhil/.vcell/simdata/temp/1812661980_link`

To get <VCELL_home> and <VCELL install> path details from VCell_Rel/VCELL_Alpha. Go to `Help > Vcell Properties... > General Properties`
